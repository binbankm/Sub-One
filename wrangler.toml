name = "sub-one"
main = "functions/[[path]].js"
compatibility_date = "2024-06-13"
compatibility_flags = ["nodejs_compat"]

# KV 命名空间绑定
# 这是 wrangler.toml 在Pages项目中最重要的作用
[[kv_namespaces]]
binding = "SUB_ONE_KV"
id = "9796c49ed5a3405aabbbc066d4686ce3" # 请确保这里是你正确的 KV ID
preview_id = "db1e91b764d14234b38c0a233878b040" # 请确保这里是你正确的预览 KV ID

# 环境变量配置
[vars]
ADMIN_PASSWORD = "admin"
NODE_ENV = "production"
API_VERSION = "v1"

# 定时任务配置
[triggers]
# "*/30" 表示每30分鐘
# "0 */6 * * *" 表示每6小時
# 根據您的需要調整 cron 表達式
crons = ["0 */6 * * *"]

# 构建配置
[build]
command = "npm run build"
cwd = "."

# 部署配置
[env.production]
name = "sub-one-prod"

[env.staging]
name = "sub-one-staging" 